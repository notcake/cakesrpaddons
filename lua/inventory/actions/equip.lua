local self = CInventory.Actions:CreateAction ("Equip")function self:CanRun (ply, inventory, item)	return inventory:GetOwnerEntity () and true or falseendfunction self:Run (ply, inventory, item)	local class = item.EntityClass	if not class and item:GetItemClass () then		local entityclass = item:GetItemClass ():GetEntityClass ()		if entityclass and entityclass ~= "*" and entityclass ~= "^" then			class = entityclass		end	end	if not class then		return	end	local weapons = inventory:GetOwnerEntity ():GetWeapons ()	for _, weapon in ipairs (weapons) do		if weapon:GetClass ():lower () == class:lower () then			return		end	end	inventory:GetOwnerEntity ():Give (class)	inventory:GetOwnerEntity ():ConCommand ("use " .. class)		item:RemoveCount (1)end