CGUI.RegisterDialog ("LoanAcceptanceDialog", function (loan)	local self = CGUI.CreateDialog ("BaseDialog")	self:SetTitle ("Accept loan offer...")	self:SetTall (460)		self.Loan = loan		self.Warning1 = vgui.Create ("DLabel", self)	self.Warning1:SetText ("Please review this loan carefully before accepting it. The banker may not have agreed to your whole application and may have changed the amount, duration or interest rate.")	self.Warning1:SetWrap (true)		self.LoanInfo = vgui.Create ("DLabel", self)	local loaninfo = "Borrower: " .. loan:GetBorrowerName () .. "\n"	loaninfo = loaninfo .. "Lender: " .. loan:GetLenderName () .. "\n"	loaninfo = loaninfo .. "Amount: $" .. tostring (loan:GetAmount ()) .. "\n"	loaninfo = loaninfo .. "Duration (in minutes): " .. tostring (loan:GetDuration ()) .. "\n"	loaninfo = loaninfo .. "Overall Interest: " .. tostring (loan:GetInterest ()) .. " %\n"	loaninfo = loaninfo .. "\n"	loaninfo = loaninfo .. "You will pay " .. loan:GetLenderName () .. " the sum of $" .. tostring (loan:GetRepayAmount ()) .. " at the end of the loan.\n"	self.LoanInfo:SetText (loaninfo)		self.BorrowerCommentsLabel = vgui.Create ("DLabel", self)	self.BorrowerCommentsLabel:SetText (loan:GetBorrower ():Name () .. "'s comments:")		self.BorrowerComments = vgui.Create ("DLabel", self)	self.BorrowerComments:SetText (loan:GetBorrowerComments () or "(none)")	self.BorrowerComments:SetWrap (true)	self.BorrowerComments:SetContentAlignment (7)		self.LenderCommentsLabel = vgui.Create ("DLabel", self)	self.LenderCommentsLabel:SetText (loan:GetBorrower ():Name () .. "'s comments:")		self.LenderComments = vgui.Create ("DLabel", self)	self.LenderComments:SetText (loan:GetLenderComments () or "(none)")	self.LenderComments:SetWrap (true)	self.LenderComments:SetContentAlignment (7)		self.Warning2 = vgui.Create ("DLabel", self)	self.Warning2:SetText ("You accept this loan at your own risk. If you cannot pay the loan back you risk going into serious debt. You may disagree with the terms of this loan and have the right to decline it.")	self.Warning2:SetWrap (true)		self.Accept = vgui.Create ("GButton", self)	self.Accept:SetSize (80, 28)	self.Accept:SetText ("Accept")	self.Accept:AddEventListener ("Click", function (button)		RunConsoleCommand ("_loan_accept", tostring (self.Loan:GetLoanID ()))		self:Close ()	end)		self.Decline = vgui.Create ("GButton", self)	self.Decline:SetSize (80, 28)	self.Decline:SetText ("Decline")	self.Decline:AddEventListener ("Click", function (button)		RunConsoleCommand ("_loan_decline", tostring (self.Loan:GetLoanID ()))		self:Close ()	end)		self:AddLayouter (function (self)		self:SetSkin ("DarkRP")				local x, y = 8, 24				self.Warning1:SetPos (x, y)		self.Warning1:SetSize (self:GetWide () - 16, 48)		y = y + self.Warning1:GetTall ()				x = x + 8		self.LoanInfo:SetPos (x, y)		self.LoanInfo:SetSize (self:GetWide () - 24, 108)		y = y + self.LoanInfo:GetTall ()				self.BorrowerCommentsLabel:SetPos (x, y)		self.BorrowerCommentsLabel:SetWide (self:GetWide () - 16)		y = y + self.BorrowerCommentsLabel:GetTall ()				self.BorrowerComments:SetPos (x + 8, y)		self.BorrowerComments:SetSize (self:GetWide () - 32, 64)		y = y + self.BorrowerComments:GetTall () + 4				self.LenderCommentsLabel:SetPos (x, y)		self.LenderCommentsLabel:SetWide (self:GetWide () - 16)		y = y + self.BorrowerCommentsLabel:GetTall ()				self.LenderComments:SetPos (x + 8, y)		self.LenderComments:SetSize (self:GetWide () - 32, 64)		y = y + self.BorrowerComments:GetTall () + 4				x = x - 8		self.Warning2:SetPos (x, y)		self.Warning2:SetSize (self:GetWide () - 16, 48)				local width = self.Accept:GetWide () + 8 + self.Decline:GetWide ()		x = (self:GetWide () - width) * 0.5		self.Accept:SetPos (x, self:GetTall () - 8 - self.Accept:GetTall ())		self.Decline:SetPos (x + self.Accept:GetWide () + 8, self:GetTall () - 8 - self.Decline:GetTall ())	end)		function self:GetInterestText (amount)		return "You will be paid $" .. amount .. " at the end."	end		function self:GetLayoutStartPos ()		return 8, 84	end		if derma.GetSkinTable () ["DarkRP"] then		function self:Paint ()			CGUI.GetRenderer ("DarkRPFrame") (self)		end	end		return selfend)